

function getSetting(setting, number)
 local get = fs.open("/home/settings/"..setting, "r")
 local settings = textutils.unserialize( get.readAll() )
 get.close()
 if number ~= nil then
  return settings[number]
 elseif number == nil then
  return settings
 end
end



function addSetting(setting, number, newValue)

 local set = getSetting(setting)

 local get = fs.open("/home/settings/"..setting, "w")
 
 
 if set[number] then
  table.remove(set, number)
 end
 table.insert(set, number, setting)
 
 get.write( textutils.serialize(set) )
 
 get.close()
 
end

